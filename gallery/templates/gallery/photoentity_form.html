{% extends 'firstproject/base.html' %}

{% block title %}
    Gallery
{% endblock %}

{% block content %}
<div id="gallery-container">
    <div id="gallery-block">
        <div id="gallery-content-one">
            <div id="gallery-header">
                <h1>GALLERY</h1>
            </div>
            <div class="content-divider"></div>
              <div class="gallery-content-p">
                  {% if pages %}
                  <div class="row text-center text-lg-left">
                    {% for ent in pages %}
                    <div class="col-lg-3 col-md-4 col-xs-6">
                      <a href="{{ ent.photo_file.url }}" class="d-block mb-4 h-100" target="_blank">
                        <img class="img-fluid img-thumbnail" src="{{ ent.photo_file.url }}.250x250_q85_crop.jpg" alt="">
                      </a>
                    </div>
                    {% endfor %}
                  </div>

                  <div class="gallery-pagination">
                    <ul class="pagination">
                      <li class="page-item">
                        {% if pages.has_previous %}
                        <a class="page-link" href="/gallery/{{ pages.previous_page_number }}" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                          <span class="sr-only">Previous</span>
                        </a>
                        {% else %}
                        <a class="page-link" href="#" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                          <span class="sr-only">Previous</span>
                        </a>  
                        {% endif %}
                      </li>
                      {% for page in pages.paginator.page_range %}
                      <li class="page-item"><a class="page-link" href="/gallery/{{ page }}">{{ page }}</a></li>
                      {% endfor %}
                      <li class="page-item">
                        {% if pages.has_next %}  
                        <a class="page-link" href="/gallery/{{ pages.next_page_number }}" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                          <span class="sr-only">Next</span>
                        </a>
                        {% else %}
                        <a class="page-link" href="#" aria-label="Previous">
                          <span aria-hidden="true">&raquo;</span>
                          <span class="sr-only">Next</span>
                        </a>  
                        {% endif %}
                      </li>
                    </ul>
                  </nav>

                  {% else %}
                  <p>No photos exist.</p>
                  {% endif %}
              </div>
            <div class="content-divider"></div>
        </div>
    </div>
</div>
{% endblock %}

<!--
<table>
  <tbody>
    {% for ent in entities %}
      <tr>   
        <td><a href="{{ ent.photo_file.url }}" target="_blank"><img src="{{ ent.photo_file.url }}.250x250_q85_crop.jpg"/></a></td>
        <td>{{ ent.photo_date}}</td>
        <td>{{ ent.photo_file.size|filesizeformat }}</td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="3">No data.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>-->

